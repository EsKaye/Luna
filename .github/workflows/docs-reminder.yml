name: Docs Reminder

on:
  pull_request:
    types: [opened, edited, synchronize]

jobs:
  remind-docs:
    runs-on: ubuntu-latest
    steps:
      - name: Check for documentation changes
        uses: actions/github-script@v7
        with:
          script: |
            const pr = await github.rest.pulls.get({
              owner: context.repo.owner,
              repo: context.repo.repo,
              pull_number: context.payload.pull_request.number
            });
            const files = await github.paginate(github.rest.pulls.listFiles, {
              owner: context.repo.owner,
              repo: context.repo.repo,
              pull_number: context.payload.pull_request.number
            });
            const docChanged = files.some(f => f.filename.match(/(README|CHANGELOG|docs|\.md|\.rst|\.adoc)/i));
            if (!docChanged) {
              core.setFailed('No documentation changes detected. Please ensure documentation is updated as needed.');
            } 